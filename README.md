#### Проект 5: Анализ и визуализация результатов А/В тестирования в продуктовом ретейле. Используемый инструмент – Python.

<p> Что нужно было сделать: проанализировать и визуализировать результаты проведения АВ тестирования во всех городах, где присутствует данный продуктовый ретейлер. Провести сегментацию, сделать выводы и сформулировать рекомендации для внедрения.

<p> Задача №1. Импорт, анализ таблиц, объединение таблиц. 
  
<p> Задача №2. Автоматизация статистических вычислений.

<p>Задача №3. Расчет общих результатов и сегментация результатов А/В теста по городам и торговым точкам.

<p>Задача №4. Отчет по АВ тесту. Выводы, рекомендации.

<p> Итоги:
  
1. На первом этапе общего анализа по совокупным результатам теста (без разбиения по городам и торговым точкам) оба инструмента анализа (двух-выборочный ttest для сравнения средних платежей и сравнения конверсий в платеж, а также тест Mann Whitney для сравнения распределений) показали наличие статистической разницы в положительную сторону.

2. Результаты аналитики отдельно по Москве и СПБ показали так же наличие статистической разницы в положительную сторону.

3. При анализе каждого города выясняется, что все города можно разделить на 3 группы:
1 – группа с положительным эффектом (прирост средних платежей и конверсий в тестовой группе): Москва, СПБ, Владимир, Самара. 
2 – группа с отрицательным эффектом: Волгоград
3 – группа с нейтральным эффектом: Красноярск, Мурманск, Казань, Саратов, Тольятти, Тюмень, Сочи, Краснодар, Сахалинск, Дмитров.  
При этом один и тот же инструмент (двух-выборочный ttest), примененный к сравнению средних и сравнению конверсий может показывать разные результаты.

4. После проведения сегментации, разбиения каждого города на отдельные торговые точки, было сформировано три группы по результатам эксперимента (на основании p_value) :
1 – группа с положительным эффектом (прирост средних платежей и конверсий в тестовой группе)  
2 – группа с отрицательным эффектом (снижение средних платежей и конверсий в тестовой группе)
3 – группа с нейтральным эффектом (статистическая разница не выявлена).
При этом некоторые торговые точки из городов, которые попадали в категорию с положительным эффектом (Москва) или в категорию с нейтральным эффектом (Краснодар) переместились в категорию с отрицательным эффектом, что не было заметно на уровне анализа города.

Основной вывод, который можно сделать: для того, чтобы избежать ошибки поверхностных выводов, необходимо каждый крупный анализируемый кластер (города, например) дифференцировать, разбивать на отдельные, обособленные структурные единицы (торговые точки в данном случае). При такой дифференциации будет заметно, какие из торговых точек потенциально смогут участвовать в увеличении прибыли (после обработки результатов эксперимента) и на каких торговых точках результаты проведения АБ теста оказались отрицательными. Такой подход поможет правильно оценить вес каждой точки в генерации прибыли или убытков и правильно распределить ресурсы для продолжения исследования и принятия решения о внедрении. 

5. С помощью внешнего параметра (кол-во потенциальных клиентов) можем посчитать потенциальную выгоду, связанную с каждой торговой точкой.
Зная стоимость внедрения (стоимость внедрения на разных точках может оказаться разной), можно принимать решение о внедрении по каждой торговой точке, где был зафиксирован положительны результат, учитывая ее проходимость, окупаемость и иные характеристики.

6. С помощью внешнего параметра (кол-во потенциальных клиентов) можем посчитать потенциальный убыток, связанный с каждой торговой точкой.
 По каждой торговой точке, где был зафиксирован отрицательный результат, решение, наверное, необходимо принимать, исходя из ее веса и значимости в общем проекте.

7. Большинство торговых точек попадает в категорию с нейтральным результатом (статистическая разница не обнаружена). Для каждой такой точки можно посчитать необходимое минимальное кол-во наблюдений для обнаружения статистической разницы. Внешним параметром будет MDE (значимая разница в рублях). После нахождения необходимого минимального кол-ва наблюдений для одной группы по формуле :
 N = 16* (сигма в квадрате) / (MDE в квадрате), 
мы сможем посчитать необходимое время продления эксперимента для каждой точки (на разных точках оно будет разное, проходимость разная), учитывая кол-во уже полученных наблюдений за 3 предыдущих месяца по каждой торговой точке.
Комбинируя внешний параметр (MDE), время продления эксперимента, стоимость продления эксперимента, мы можем принять решение о необходимости продления эксперимента для сбора необходимого кол-ва наблюдений в каждой торговой точке. 
После получения необходимого кол-ва наблюдений приступить к выявлению статистической разницы.

